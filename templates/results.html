<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>J&A Express - Advanced Search</title>
  <link rel="stylesheet" href="/static/results.css">
</head>
<body class="dark-mode">
  <header class="header">
    <div style="display: flex; align-items: center; gap: 10px;">
      <button onclick="goBack()" id="back-btn">â¬…ï¸ Back</button>
      <div class="logo">J&A Express</div>
    </div>
    <input type="text" id="search-input" placeholder="Search products...">
    <button id="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
    <button id="wishlist-toggle" onclick="showWishlist()">â¤ï¸</button>
  </header>

  <nav class="categories">
    <button onclick="filterResults('all')" class="active">All</button>
    <button onclick="filterResults('images')">Images</button>
    <button onclick="filterResults('videos')">Videos</button>
  </nav>

  <main id="results" class="results"></main>

  <div class="page-size-control">
    <label for="page-size">Results per page:</label>
    <select id="page-size" onchange="changePageSize()">
      <option value="10">10</option>
      <option value="20">20</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select>
  </div>

  <div id="pagination" class="pagination"></div>

  <button onclick="scrollTopSmooth()" id="back-to-top">â¬†ï¸</button>

  <div id="wishlist-modal" class="modal">
    <div class="modal-content">
      <div class="wishlist-header">
        <h2>My Wishlist</h2>
        <span class="close" onclick="closeWishlist()">Ã—</span>
      </div>
      <div id="wishlist-items" style="margin-bottom: 30px;"></div>
      <div class="wishlist-actions">
        <button onclick="clearWishlist()" id="clear-wishlist-btn">ğŸ—‘ï¸ Clear Wishlist</button>
      </div>
    </div>
  </div>

  <script>
    const searchTerm = "{{ query }}";  // passed from Flask template
    document.getElementById('search-input').value = searchTerm;
  </script>
  
  <script src="/static/results.js"></script>
</body>
</html>